@model Data.DTOs.UserDTO
@{
    Layout = null;
}


<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="~/css/style.css">
    <link rel="stylesheet" href="~/css/responsive.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <link href="~/assets/css/app.min.css" rel="stylesheet" />
    <link href="~/assets/css/iziToast.min.css" rel="stylesheet" />
    <!-- Template CSS -->
    <link rel="stylesheet" href="~/assets/css/style.css">
    <link href="~/assets/css/style.css" rel="stylesheet" />

    <title>Afluex Multiservice llp</title>
</head>

<body style="background-image: url('../images/login_bg.jpg');background-repeat: no-repeat;background-size: auto;">
    <div class="main_signup">
        @using (Html.BeginForm("SignUp", "en", FormMethod.Post, new { @class = "needs-validation", @novalidate = "" }))
        {
            if (TempData["msg"] != null)
            {
                <div>
                    @TempData["msg"]
                </div>
            }
            <div class="container">
                <div class="row">
                    <div class="col-md-12 col-lg-12 col-sm-12">
                        <div class="signup_inner">
                            <h1 class="text-center">Register</h1>
                            <p style="color:red;">@TempData["Msg"]</p>
                            <form>
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="inputName4">First Name</label>
                                        <div class="input-group mb-2">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text"><i class="fa fa-user" aria-hidden="true"></i></div>
                                            </div>
                                            @Html.TextBoxFor(m => m.FirstName, new { @class = "form-control", @placeholder = "Enter First Name", @required="true" })
                                            <div class="invalid-feedback">
                                                Please Enter First Name !
                                            </div>
                                            @Html.HiddenFor(m => m.UserAgent)

                                            @*<input type="hidden" name="response" value="@TempData["Msg"]" id="Response" />*@ 
                                           
                                        </div>
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="inputName4">Last Name</label>
                                        <div class="input-group mb-2">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text"><i class="fa fa-user" aria-hidden="true"></i></div>
                                            </div>
                                            @Html.TextBoxFor(m => m.LastName, new { @class = "form-control", @placeholder = "Enter Last Name" })
                                        </div>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-12">
                                        <label for="inputEmail4">Email ID</label>
                                        <div class="input-group mb-2">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text"><i class="fa fa-envelope" aria-hidden="true"></i></div>
                                            </div>
                                            @Html.TextBoxFor(m => m.Email, new { @class = "form-control", @placeholder = "Enter your active email id to receive relevant jobs" })
                                        </div>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-12">
                                        <label for="inputEmail4">Mobile number *</label>
                                        <div class="input-group mb-2">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text"><i class="fa fa-phone" aria-hidden="true"></i></div>
                                            </div>
                                            @Html.TextBoxFor(m => m.Mobile, new { @class = "form-control", @maxLength = "10", @placeholder = "Enter valid Mobile No.", @onkeypress = "return isNumberKey(event);", @required = "true" })
                                            <div class="invalid-feedback">
                                                Please Enter Mobile No. !
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="inputEmail4">Create Password *</label>
                                        <div class="input-group mb-2">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text"><i class="fa fa-user" aria-hidden="true"></i></div>
                                            </div>
                                            @Html.TextBoxFor(m => m.Password, new { @class = "form-control", @placeholder = "Minimum 8 characters", @onBlur = "return checkPasswordStrength()", @type = "Password", @required = "true" })
                                            <div class="invalid-feedback">
                                                Please Enter Paasword !
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="inputEmail4">Confirm Password *</label>
                                        <div class="input-group mb-2">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text"><i class="fa fa-user" aria-hidden="true"></i></div>
                                            </div>
                                            @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control", @required = "true" ,@onChange= "return validateConfPassword()" })
                                            <div class="invalid-feedback">
                                                Please Re-enter Paasword !
                                            </div>
                                        </div>
                                    </div>
                                </div>
                               
                                @Html.AntiForgeryToken()
                                <button type="submit" class="btn btn-outline-primary btn-lg signup_btn" onclick="return validateConfPassword();">Register Now</button>
                                <button type="button" id="btnsignin" class="btn btn-outline-primary btn-lg signup_btn">Sign In</button>
                                <button id="btnhome" type="button" class="btn btn-outline-primary btn-lg signup_btn float-lg-right">Home</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        }

    </div>
    <!-- Optional JavaScript; choose one of the two! -->
    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->


    <script src="~/scripts/jquery-1.10.2.js"></script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <link rel="stylesheet" type="text/css" href="https://code.jquery.com/ui/1.12.0/themes/smoothness/jquery-ui.css">


    <!-- JS Libraies -->
    <script src="~/assets/js/app.min.js"></script>
    <script src="~/assets/js/iziToast.min.js"></script>
    <!-- Page Specific JS File -->
    <!-- Template JS File -->
    @*<script src="~/assets/js/page/toastr.js"></script>*@
    <script src="~/assets/js/scripts.js"></script>
    <!-- Custom JS File -->
    <script src="~/assets/js/custom.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $("#divload").css({ 'display': 'none' });
            var userAgent = navigator.userAgent;

            $('#UserAgent').val(userAgent);


            if ($("#Response").val() == "Already Registered") {
                iziToast.warning({
                    title: "Alert!",
                    message: "Already Registered",
                    position: "topRight",
                });
            }
        });

        $("#btnhome").click(function () {
            location.href = "/en/Index";
        });
        $("#btnsignin").click(function () {
            location.href = "/en/Login";
        });

        function calcPasswordLength(evt) {
            debugger
            var str = $('#Password').val();
            var n = str.length;
            if (n < 6) {
                alert('Password Should be 6 or more Character')
                $('#Password').val('')
                return false;
            }
        }
        function validateConfPassword() {


            var password = $('#Password').val();
            var ConfirmPassword = $('#ConfirmPassword').val();
            if (password != ConfirmPassword) {
                iziToast.warning({
                    title: "Alert!",
                    message: "Passwords not matched",
                    position: "topRight",
                });
                $('#Password').val('');
                $('#ConfirmPassword').val('');
                return false;
            }
        }

        function isNumberKey(evt) {

            var charCode = (evt.which) ? evt.which : event.keyCode;
            if (charCode != 46 && charCode > 31
              && (charCode < 48 || charCode > 57))
                return false;

            return true;
        }
        //function Validateform() {
        //    $(".errortext").removeClass("errortext");
        //    if ($('#FirstName').val() == '') {
        //        $("#FirstName").addClass('errortext');
        //        $('#FirstName').focus();
        //        return false;
        //    }
        //    if ($('#Password').val() == '') {
        //        $("#Password").addClass('errortext');
        //        $('#Password').focus();
        //        return false;
        //    }
        //    if ($('#Mobile').val() == '') {
        //        $("#Mobile").addClass('errortext');
        //        $('#Mobile').focus();
        //        return false;
        //    }
        //    if ($('#CityId').val() == 0) {
        //        $("#CityId").addClass('errortext');
        //        $('#CityId').focus();
        //        return false;
        //    }
        //    return true;
        //}

        function checkPasswordStrength() {
            var number = /([0-9])/;
            var alphabetsC = /([A-Z])/;
            var alphabetsL = /([a-z])/;
            var special_characters = /([~,!,@@,#,$,%,^,&,*,-,_,+,=,?,>,<])/;
            if ($('#Password').val().length < 8) {
                alert('Password Weak (should be atleast 8 characters.)');
                $('#Password').val('');
                $('#ConfirmPassword').val('');
                return false;
            } else {
                if ($('#Password').val().match(number) && $('#Password').val().match(alphabetsC) && $('#Password').val().match(alphabetsL) && $('#Password').val().match(special_characters)) {
                    return true;
                } else {
                    alert('Password Weak (Should include one capital alphabet, one small alphabet, numbers and special characters.)');
                    $('#Password').val('');
                    $('#ConfirmPassword').val('');
                    return false;
                }
            }
        }

        $(document).ready(function () {
            $("input:text,form").attr("autocomplete", "off");
        })
    </script>
</body>

</html>